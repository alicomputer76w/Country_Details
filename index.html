<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Country Details Explorer</title>
    <meta name="description" content="Explore public country details: population, male/female distribution, institutions, hospitals (where available)." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/styles.css" />
    <!-- Explicit favicon to avoid 404 for /favicon.ico on some dev servers -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs/%3E%3Ccircle cx='32' cy='32' r='30' fill='%23005275'/%3E%3Ccircle cx='32' cy='32' r='24' fill='%2300a8e8' opacity='0.85'/%3E%3Ctext x='32' y='40' text-anchor='middle' font-size='22' fill='white' font-family='Inter,Arial,sans-serif'%3ECDE%3C/text%3E%3C/svg%3E" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <span class="brand-logo" aria-hidden="true">üåç</span>
          <h1 class="brand-title" id="titleSite">Country Details Explorer</h1>
        </div>
        <div class="actions">
          <button id="themeToggle" class="btn btn-ghost" aria-label="Toggle theme">üåì</button>
          <a class="btn btn-link" href="#about" id="linkAbout">About</a>
          <button id="exportCsvBtn" class="btn btn-ghost" aria-label="Export CSV">CSV ‚¨áÔ∏è</button>
          <button id="exportPdfBtn" class="btn btn-ghost" aria-label="Export PDF">PDF ‚¨áÔ∏è</button>
          <select id="langSelect" class="select" aria-label="Language">
            <option value="en" selected>English</option>
            <option value="ur">ÿßÿ±ÿØŸà</option>
            <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
          </select>
        </div>
      </div>
    </header>

    <main class="container">
      <!-- All Countries view -->
      <section class="card search-card" aria-label="All countries">
        <h2 class="card-title" id="titleAllCountries">All Countries</h2>
        <div class="search-grid" style="margin-top:8px">
          <div>
            <label for="countryFilter" class="label" id="labelCountryFilter">Filter</label>
            <input id="countryFilter" class="input" placeholder="Type to filter by name, capital, or region‚Ä¶" />
          </div>
          <div>
            <label for="countrySort" class="label" id="labelCountrySort">Sort</label>
            <select id="countrySort" class="select">
              <option value="name_asc" selected>Name (A-Z)</option>
              <option value="name_desc">Name (Z-A)</option>
              <option value="population_desc">Population (high ‚Üí low)</option>
              <option value="population_asc">Population (low ‚Üí high)</option>
              <option value="area_desc">Area (high ‚Üí low)</option>
              <option value="area_asc">Area (low ‚Üí high)</option>
            </select>
          </div>
          <div class="search-actions">
            <button id="refreshBtn" class="btn">Refresh Data</button>
          </div>
        </div>
        <ul id="countriesList" class="list" style="margin-top:12px"></ul>
      </section>

      <section class="card" id="about">
        <h2 class="card-title" id="titleAbout">About this website</h2>
        <p>This site shows publicly available country details. Data sources:</p>
        <ul class="list">
          <li>REST Countries API (core country info)</li>
          <li>World Bank Indicators (male/female population totals)</li>
          <li>Hipolabs Universities API (institutions)</li>
          <li>WHO / National Ministries (health links)</li>
        </ul>
        <p class="muted">Data availability varies per country. If koi data missing ho, we show a friendly message instead of failing.</p>
      </section>

      <!-- Bulk panel removed per new design: all-country view -->

      <div id="loading" class="loading" hidden>
        <div class="spinner" aria-hidden="true"></div>
        <div>Loading‚Ä¶</div>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container">
        <small>Made for exploring public country data. ¬© <span id="year"></span></small>
      </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="assets/app.js" type="module"></script>
  </body>
  </html>